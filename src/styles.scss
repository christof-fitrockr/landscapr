@use '@angular/material' as mat;
@use 'theme' as theme;

// Apply the light theme by default (Material)
@include mat.all-component-themes(theme.$light-theme);

:root {
  --navbar-height: 56px;
  --submenu-height: 56px;
}

// 1. Configuration and Variables
@import "styles/abstracts/variables";

// 2. Vendors
@import "~bootstrap/scss/bootstrap";
@import "~@ng-select/ng-select/themes/default.theme.css";

// 3. Abstracts (Mixins)
@import "styles/abstracts/mixins";

// 4. Components
@import "styles/components/tree-table";
@import "styles/components/cards";
@import "styles/components/buttons";

// 5. Global / Base Styles
html, body {
  height: 100%;
  // Background and color are set by Bootstrap variables in _variables.scss
  font-family: $font-family-sans-serif;
  -webkit-font-smoothing: antialiased;
}

// Utility classes from original styles.scss
.h-100 { height: 100% !important; }
.min-h-100 { min-height: 100% !important; }
.flex-column-fill { display: flex; flex-direction: column; flex: 1; }
.flex-grow-1 { flex-grow: 1 !important; }

// Navbar overrides for modern look
.navbar {
  @include glass-effect(0.8, 12px);
  border-bottom: 1px solid $border-color;
  box-shadow: $box-shadow-sm;

  .navbar-brand {
    font-weight: 700;
    letter-spacing: -0.025em;
    color: $slate-900;
  }

  .nav-link {
    font-weight: 500;
    color: $slate-600;
    transition: color 0.2s;

    &:hover, &.active {
      color: $primary !important;
    }
  }
}

// Dark Mode overrides for ng-select (adapted to new variables)
.ng-select {
  .ng-select-container {
    background-color: $input-bg !important;
    border-color: $input-border-color !important;
    color: $input-color !important;
  }
  .ng-dropdown-panel {
    background-color: $dropdown-bg !important;
    border-color: $dropdown-border-color !important;
    .ng-option {
      background-color: $dropdown-bg !important;
      color: $dropdown-link-color !important;
      &.ng-option-marked {
        background-color: $dropdown-link-hover-bg !important;
        color: $dropdown-link-hover-color !important;
      }
      &.ng-option-selected {
        background-color: $primary !important;
        color: $white !important;
      }
    }
  }
  .ng-arrow-wrapper .ng-arrow {
    border-color: $input-placeholder-color transparent transparent !important;
  }
  .ng-placeholder {
    color: $input-placeholder-color !important;
  }
}

// Modal Overrides
.modal-content {
  @include glass-effect(0.95, 20px);
  border: 1px solid $border-color;
  box-shadow: $box-shadow-lg;
}

// Text Utilities
.text-xs { font-size: .7rem; }
.text-lg { font-size: 1.2rem; }

// Gray scale utilities (mapped to slate for backward compatibility)
.text-gray-100 { color: $slate-100 !important; }
.text-gray-200 { color: $slate-200 !important; }
.text-gray-300 { color: $slate-300 !important; }
.text-gray-400 { color: $slate-400 !important; }
.text-gray-500 { color: $slate-500 !important; }
.text-gray-600 { color: $slate-600 !important; }
.text-gray-700 { color: $slate-700 !important; }
.text-gray-800 { color: $slate-800 !important; }
.text-gray-900 { color: $slate-900 !important; }

// Background Gray scale utilities (mapped to slate for backward compatibility)
.bg-gray-100 { background-color: $slate-100 !important; }
.bg-gray-200 { background-color: $slate-200 !important; }
.bg-gray-300 { background-color: $slate-300 !important; }
.bg-gray-400 { background-color: $slate-400 !important; }
.bg-gray-500 { background-color: $slate-500 !important; }
.bg-gray-600 { background-color: $slate-600 !important; }
.bg-gray-700 { background-color: $slate-700 !important; }
.bg-gray-800 { background-color: $slate-800 !important; }
.bg-gray-900 { background-color: $slate-900 !important; }

// Link Utilities
a.black { color: $slate-900; &:hover { color: $primary; } }
